import{y as s,r as a,c as e,j as c,z as l,B as i,L as t,R as n,u as r,Q as o,a5 as d,P as v,aD as u,aB as p,A as g,O as m,D as h,E as y}from"./vue-vendor-BRizdQXW.js";import{l as b,b as k,j as f,d as w,f as D,k as C,a as x,m as M,n as $,e as j,g as S,o as _,p as A,q as I,r as T,s as F,t as q,u as B,v as Y,h as O,i as P,w as z,x as E,y as L,z as Q,F as R}from"./index-CgjG02ur.js";import{u as G}from"./course-DWSJBfyD.js";import{_ as H}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./storage-B26rRKbu.js";import"./index-B0rpCtHA.js";import"./element-plus-1qB5igSe.js";const J={class:"dashboard"},K={class:"welcome-banner"},N={class:"banner-content"},U={class:"welcome-text"},V={class:"welcome-badge"},W={class:"welcome-illustration"},X={class:"illustration-container"},Z={class:"floating-card card-1"},ss={class:"floating-card card-2"},as={class:"floating-card card-3"},es={class:"quick-actions"},cs={class:"action-grid"},ls={class:"action-content"},is={class:"action-icon"},ts={class:"action-arrow"},ns={class:"action-content"},rs={class:"action-icon"},os={class:"action-arrow"},ds={class:"action-content"},vs={class:"action-icon"},us={class:"action-arrow"},ps={class:"action-content"},gs={class:"action-icon"},ms={class:"action-arrow"},hs={class:"recent-learning"},ys={class:"learning-container"},bs={key:0,class:"empty-learning"},ks={class:"empty-illustration"},fs={class:"empty-icon"},ws={class:"empty-content"},Ds={key:1,class:"learning-list"},Cs={class:"course-cover"},xs={class:"cover-icon"},Ms={class:"cover-progress"},$s={class:"progress-ring"},js={class:"progress-circle",viewBox:"0 0 36 36"},Ss=["stroke-dasharray"],_s={class:"progress-percentage"},As={class:"course-info"},Is={class:"course-header"},Ts={class:"course-title"},Fs={class:"course-status"},qs={key:0,class:"status-badge completed"},Bs={key:1,class:"status-badge in-progress"},Ys={key:2,class:"status-badge not-started"},Os={class:"course-description"},Ps={class:"course-progress"},zs={class:"progress-bar"},Es={class:"progress-text"},Ls={class:"course-actions"},Qs=["onClick"],Rs={key:0,class:"stats-overview"},Gs={class:"stats-grid"},Hs={class:"stat-card courses"},Js={class:"card-header"},Ks={class:"stat-icon"},Ns={class:"trend-indicator positive"},Us={class:"card-content"},Vs={class:"stat-value"},Ws={class:"stat-card completed"},Xs={class:"card-header"},Zs={class:"stat-icon"},sa={class:"trend-indicator positive"},aa={class:"card-content"},ea={class:"stat-value"},ca={class:"stat-card time"},la={class:"card-header"},ia={class:"stat-icon"},ta={class:"trend-indicator positive"},na={class:"card-content"},ra={class:"stat-value"},oa={class:"stat-card score"},da={class:"card-header"},va={class:"stat-icon"},ua={class:"trend-indicator positive"},pa={class:"card-content"},ga={class:"stat-value"},ma={class:"learning-data-section"},ha={class:"learning-calendar"},ya={class:"calendar-container"},ba={class:"calendar-header"},ka={class:"calendar-stats"},fa={class:"stat-item"},wa={class:"stat-icon"},Da={class:"stat-content"},Ca={class:"stat-value"},xa={class:"stat-item"},Ma={class:"stat-icon"},$a={class:"stat-content"},ja={class:"stat-value"},Sa={class:"calendar-controls"},_a={class:"current-month"},Aa={class:"calendar-grid"},Ia={class:"calendar-weekdays"},Ta={class:"calendar-days"},Fa={class:"day-number"},qa={key:0,class:"study-indicator"},Ba={key:1,class:"today-indicator"},Ya={class:"achievements"},Oa={class:"achievement-container"},Pa={class:"achievement-summary"},za={class:"summary-card"},Ea={class:"summary-icon"},La={class:"summary-content"},Qa={class:"summary-value"},Ra={class:"summary-card"},Ga={class:"summary-icon"},Ha={class:"summary-content"},Ja={class:"summary-value"},Ka={class:"summary-card"},Na={class:"summary-icon"},Ua={class:"summary-content"},Va={class:"summary-value"},Wa={class:"achievement-list"},Xa={class:"icon-background"},Za={key:0,class:"unlock-effect"},se={class:"achievement-info"},ae={class:"achievement-header"},ee={class:"achievement-title"},ce={class:"achievement-status"},le={key:0,class:"status-badge unlocked"},ie={key:1,class:"status-badge locked"},te={class:"achievement-description"},ne={key:0,class:"achievement-progress"},re={class:"progress-bar"},oe={class:"progress-text"},de={class:"achievement-reward"},ve={key:0,class:"reward-badge"},ue={key:1,class:"reward-placeholder"},pe=H(s({__name:"Dashboard",setup(s){b.add(k,f,w,D,C,x,M,$,j,S,_,A,I,T,F,q,B,Y,O,P,z,E,L,Q);const H=p(),pe=G(),ge=a(new Date),me=e(()=>{const s=pe.courses;return{totalCourses:s.length,completedCourses:s.filter(s=>100===s.progress).length,totalStudyTime:s.reduce((s,a)=>s+(a.totalDuration||0),0),averageScore:85}}),he=["日","一","二","三","四","五","六"],ye=a([]),be=e(()=>pe.courses.sort((s,a)=>new Date(a.updatedAt).getTime()-new Date(s.updatedAt).getTime()).slice(0,3).map(s=>({id:s.id,title:s.title,description:s.description,progress:s.progress||0}))),ke=a([{id:"1",title:"学习新手",description:"完成第一门课程",icon:"graduation-cap",unlocked:!0,progress:100},{id:"2",title:"坚持不懈",description:"连续学习7天",icon:"calendar-check",unlocked:!0,progress:100},{id:"3",title:"学霸",description:"平均分达到90分以上",icon:"trophy",unlocked:!1,progress:85},{id:"4",title:"知识探索者",description:"完成10门课程",icon:"book-open",unlocked:!1,progress:50},{id:"5",title:"时间管理大师",description:"单日学习时长超过4小时",icon:"clock",unlocked:!1,progress:30},{id:"6",title:"完美主义者",description:"获得满分成绩",icon:"star",unlocked:!1,progress:0}]);c(()=>{return s=null,a=null,e=function*(){$e(),yield pe.fetchCourses()},new Promise((c,l)=>{var i=s=>{try{n(e.next(s))}catch(a){l(a)}},t=s=>{try{n(e.throw(s))}catch(a){l(a)}},n=s=>s.done?c(s.value):Promise.resolve(s.value).then(i,t);n((e=e.apply(s,a)).next())});var s,a,e});const fe=s=>{H.push(s)},we=()=>ke.value.filter(s=>s.unlocked).length,De=()=>ke.value.length,Ce=()=>{const s=we(),a=De();return Math.round(s/a*100)},xe=s=>["2024-01-20","2024-01-19","2024-01-18","2024-01-17","2024-01-15"].includes(s),Me=s=>(s=>{if(s<60)return`${s}分钟`;const a=Math.floor(s/60),e=s%60;return e>0?`${a}小时${e}分钟`:`${a}小时`})(s),$e=()=>{const s=ge.value.getFullYear(),a=ge.value.getMonth(),e=new Date(s,a,1),c=new Date(e);c.setDate(c.getDate()-e.getDay());const l=[],i=new Date(c);for(let t=0;t<42;t++)l.push({date:i.toISOString().split("T")[0],day:i.getDate(),isCurrentMonth:i.getMonth()===a}),i.setDate(i.getDate()+1);ye.value=l},je=()=>{ge.value=new Date(ge.value.getFullYear(),ge.value.getMonth()-1,1),$e()},Se=()=>{ge.value=new Date(ge.value.getFullYear(),ge.value.getMonth()+1,1),$e()},_e=s=>s===(new Date).toISOString().split("T")[0];return(s,a)=>{return g(),l("div",J,[i("div",K,[a[8]||(a[8]=i("div",{class:"banner-background"},[i("div",{class:"gradient-overlay"}),i("div",{class:"pattern-overlay"})],-1)),i("div",N,[i("div",U,[i("div",V,[n(r(R),{icon:["fas","star"]}),a[5]||(a[5]=i("span",null,"AI智能学习平台",-1))]),a[6]||(a[6]=i("h1",{class:"welcome-title"},"欢迎来到智课方舟",-1)),a[7]||(a[7]=i("p",{class:"welcome-subtitle"},"让AI助力您的学习之旅，智能课程平台为您提供个性化学习体验",-1))]),i("div",W,[i("div",X,[i("div",Z,[n(r(R),{icon:["fas","book"]})]),i("div",ss,[n(r(R),{icon:["fas","graduation-cap"]})]),i("div",as,[n(r(R),{icon:["fas","lightbulb"]})])])])])]),i("div",es,[a[17]||(a[17]=i("div",{class:"section-header"},[i("h3",{class:"section-title"},"快速操作"),i("p",{class:"section-subtitle"},"选择您想要进行的操作，开始您的学习之旅")],-1)),i("div",cs,[i("div",{class:"action-card primary",onClick:a[0]||(a[0]=s=>fe("/courses/create"))},[a[10]||(a[10]=i("div",{class:"card-glow"},null,-1)),i("div",ls,[i("div",is,[n(r(R),{icon:["fas","plus-circle"]})]),a[9]||(a[9]=i("div",{class:"action-info"},[i("h4",null,"创建课程"),i("p",null,"上传文档，AI智能生成课程内容")],-1)),i("div",ts,[n(r(R),{icon:["fas","arrow-right"]})])])]),i("div",{class:"action-card secondary",onClick:a[1]||(a[1]=s=>fe("/courses"))},[a[12]||(a[12]=i("div",{class:"card-glow"},null,-1)),i("div",ns,[i("div",rs,[n(r(R),{icon:["fas","play-circle"]})]),a[11]||(a[11]=i("div",{class:"action-info"},[i("h4",null,"继续学习"),i("p",null,"查看您的学习进度，继续未完成的课程")],-1)),i("div",os,[n(r(R),{icon:["fas","arrow-right"]})])])]),i("div",{class:"action-card tertiary",onClick:a[2]||(a[2]=s=>fe("/practice"))},[a[14]||(a[14]=i("div",{class:"card-glow"},null,-1)),i("div",ds,[i("div",vs,[n(r(R),{icon:["fas","trophy"]})]),a[13]||(a[13]=i("div",{class:"action-info"},[i("h4",null,"开始练习"),i("p",null,"通过练习巩固知识点，提升学习效果")],-1)),i("div",us,[n(r(R),{icon:["fas","arrow-right"]})])])]),i("div",{class:"action-card quaternary",onClick:a[3]||(a[3]=s=>fe("/analytics"))},[a[16]||(a[16]=i("div",{class:"card-glow"},null,-1)),i("div",ps,[i("div",gs,[n(r(R),{icon:["fas","chart-bar"]})]),a[15]||(a[15]=i("div",{class:"action-info"},[i("h4",null,"学习分析"),i("p",null,"查看详细的学习数据和进度分析")],-1)),i("div",ms,[n(r(R),{icon:["fas","arrow-right"]})])])])])]),i("div",hs,[a[26]||(a[26]=i("div",{class:"section-header"},[i("h3",{class:"section-title"},"最近学习"),i("p",{class:"section-subtitle"},"继续您的学习之旅，让知识护航成长")],-1)),i("div",ys,[0===be.value.length?(g(),l("div",bs,[i("div",ks,[i("div",fs,[n(r(R),{icon:["fas","book-open"]})]),a[18]||(a[18]=i("div",{class:"empty-decoration"},[i("div",{class:"decoration-circle circle-1"}),i("div",{class:"decoration-circle circle-2"}),i("div",{class:"decoration-circle circle-3"})],-1))]),i("div",ws,[a[20]||(a[20]=i("h4",{class:"empty-title"},"开始您的学习之旅",-1)),a[21]||(a[21]=i("p",{class:"empty-description"},"还没有开始学习任何课程，让我们为您创建第一个课程吧",-1)),i("button",{class:"brand-btn-primary empty-action",onClick:a[4]||(a[4]=s=>fe("/courses/create"))},[n(r(R),{icon:["fas","plus"]}),a[19]||(a[19]=i("span",null,"创建第一个课程",-1))])])])):(g(),l("div",Ds,[(g(!0),l(o,null,d(be.value,s=>(g(),l("div",{key:s.id,class:"learning-item"},[i("div",Cs,[i("div",xs,[n(r(R),{icon:["fas","book"]})]),i("div",Ms,[i("div",$s,[(g(),l("svg",js,[a[22]||(a[22]=i("path",{class:"circle-bg",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"},null,-1)),i("path",{class:"circle-progress","stroke-dasharray":`${s.progress}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"},null,8,Ss)])),i("span",_s,v(s.progress)+"%",1)])])]),i("div",As,[i("div",Is,[i("h4",Ts,v(s.title),1),i("div",Fs,[100===s.progress?(g(),l("span",qs,[n(r(R),{icon:["fas","check"]}),a[23]||(a[23]=m(" 已完成 ",-1))])):s.progress>0?(g(),l("span",Bs,[n(r(R),{icon:["fas","play"]}),a[24]||(a[24]=m(" 学习中 ",-1))])):(g(),l("span",Ys,[n(r(R),{icon:["fas","clock"]}),a[25]||(a[25]=m(" 未开始 ",-1))]))])]),i("p",Os,v(s.description),1),i("div",Ps,[i("div",zs,[i("div",{class:"progress-fill",style:h({width:`${s.progress}%`})},null,4)]),i("span",Es,v(s.progress)+"% 完成",1)])]),i("div",Ls,[i("button",{class:"brand-btn-primary course-btn",onClick:a=>{return e=s.id,void H.push(`/courses/${e}/learn`);var e}},[n(r(R),{icon:["fas",s.progress>0?"play":"play-circle"]},null,8,["icon"]),i("span",null,v(s.progress>0?"继续学习":"开始学习"),1)],8,Qs)])]))),128))]))])]),me.value.totalCourses>0?(g(),l("div",Rs,[i("div",Gs,[i("div",Hs,[i("div",Js,[i("div",Ks,[n(r(R),{icon:["fas","book"]})]),i("div",Ns,[n(r(R),{icon:["fas","arrow-up"]}),a[27]||(a[27]=i("span",null,"+2",-1))])]),i("div",Us,[i("div",Vs,v(me.value.totalCourses),1),a[28]||(a[28]=i("div",{class:"stat-label"},"总课程数",-1)),a[29]||(a[29]=i("div",{class:"stat-description"},"您已创建的所有课程",-1))])]),i("div",Ws,[i("div",Xs,[i("div",Zs,[n(r(R),{icon:["fas","check-circle"]})]),i("div",sa,[n(r(R),{icon:["fas","arrow-up"]}),a[30]||(a[30]=i("span",null,"+1",-1))])]),i("div",aa,[i("div",ea,v(me.value.completedCourses),1),a[31]||(a[31]=i("div",{class:"stat-label"},"已完成课程",-1)),a[32]||(a[32]=i("div",{class:"stat-description"},"学习进度达到100%",-1))])]),i("div",ca,[i("div",la,[i("div",ia,[n(r(R),{icon:["fas","clock"]})]),i("div",ta,[n(r(R),{icon:["fas","arrow-up"]}),a[33]||(a[33]=i("span",null,"+30min",-1))])]),i("div",na,[i("div",ra,v(Me(me.value.totalStudyTime)),1),a[34]||(a[34]=i("div",{class:"stat-label"},"总学习时长",-1)),a[35]||(a[35]=i("div",{class:"stat-description"},"所有课程的总时长",-1))])]),i("div",oa,[i("div",da,[i("div",va,[n(r(R),{icon:["fas","chart-line"]})]),i("div",ua,[n(r(R),{icon:["fas","arrow-up"]}),a[36]||(a[36]=i("span",null,"+5%",-1))])]),i("div",pa,[i("div",ga,v(me.value.averageScore),1),a[37]||(a[37]=i("div",{class:"stat-label"},"平均分数",-1)),a[38]||(a[38]=i("div",{class:"stat-description"},"练习和测试平均分",-1))])])])])):t("",!0),i("div",ma,[i("div",ha,[a[42]||(a[42]=i("div",{class:"section-header"},[i("h3",{class:"section-title"},"学习日历"),i("p",{class:"section-subtitle"},"记录您的学习足迹，见证成长历程")],-1)),i("div",ya,[i("div",ba,[i("div",ka,[i("div",fa,[i("div",wa,[n(r(R),{icon:["fas","calendar-check"]})]),i("div",Da,[i("span",Ca,v(15),1),a[39]||(a[39]=i("span",{class:"stat-label"},"学习天数",-1))])]),i("div",xa,[i("div",Ma,[n(r(R),{icon:["fas","fire"]})]),i("div",$a,[i("span",ja,v(7),1),a[40]||(a[40]=i("span",{class:"stat-label"},"连续天数",-1))])])]),i("div",Sa,[i("button",{class:"calendar-btn",onClick:je},[n(r(R),{icon:["fas","chevron-left"]})]),i("span",_a,v((e=ge.value,`${e.getFullYear()}年${e.getMonth()+1}月`)),1),i("button",{class:"calendar-btn",onClick:Se},[n(r(R),{icon:["fas","chevron-right"]})])])]),i("div",Aa,[i("div",Ia,[(g(),l(o,null,d(he,s=>i("div",{class:"weekday",key:s},v(s),1)),64))]),i("div",Ta,[(g(!0),l(o,null,d(ye.value,s=>(g(),l("div",{key:s.date,class:y(["calendar-day",{"is-today":_e(s.date),"has-study":xe(s.date),"is-other-month":!s.isCurrentMonth}])},[i("span",Fa,v(s.day),1),xe(s.date)?(g(),l("div",qa,[n(r(R),{icon:["fas","check"]})])):t("",!0),_e(s.date)?(g(),l("div",Ba)):t("",!0)],2))),128))])]),a[41]||(a[41]=u('<div class="calendar-legend" data-v-7c97ebab><div class="legend-item" data-v-7c97ebab><div class="legend-dot today" data-v-7c97ebab></div><span data-v-7c97ebab>今天</span></div><div class="legend-item" data-v-7c97ebab><div class="legend-dot study" data-v-7c97ebab></div><span data-v-7c97ebab>学习日</span></div><div class="legend-item" data-v-7c97ebab><div class="legend-dot other" data-v-7c97ebab></div><span data-v-7c97ebab>其他月份</span></div></div>',1))])]),i("div",Ya,[a[49]||(a[49]=i("div",{class:"section-header"},[i("h3",{class:"section-title"},"学习成就"),i("p",{class:"section-subtitle"},"解锁成就徽章，见证您的学习里程碑")],-1)),i("div",Oa,[i("div",Pa,[i("div",za,[i("div",Ea,[n(r(R),{icon:["fas","trophy"]})]),i("div",La,[i("span",Qa,v(we()),1),a[43]||(a[43]=i("span",{class:"summary-label"},"已获得成就",-1))])]),i("div",Ra,[i("div",Ga,[n(r(R),{icon:["fas","star"]})]),i("div",Ha,[i("span",Ja,v(De()),1),a[44]||(a[44]=i("span",{class:"summary-label"},"总成就数",-1))])]),i("div",Ka,[i("div",Na,[n(r(R),{icon:["fas","chart-line"]})]),i("div",Ua,[i("span",Va,v(Ce())+"%",1),a[45]||(a[45]=i("span",{class:"summary-label"},"完成进度",-1))])])]),i("div",Wa,[(g(!0),l(o,null,d(ke.value,s=>(g(),l("div",{key:s.id,class:"achievement-item"},[i("div",{class:y(["achievement-icon",{unlocked:s.unlocked,locked:!s.unlocked}])},[i("div",Xa,[n(r(R),{icon:["fas",s.icon]},null,8,["icon"])]),s.unlocked?(g(),l("div",Za,[...a[46]||(a[46]=[i("div",{class:"sparkle sparkle-1"},null,-1),i("div",{class:"sparkle sparkle-2"},null,-1),i("div",{class:"sparkle sparkle-3"},null,-1)])])):t("",!0)],2),i("div",se,[i("div",ae,[i("h4",ee,v(s.title),1),i("div",ce,[s.unlocked?(g(),l("span",le,[n(r(R),{icon:["fas","check"]}),a[47]||(a[47]=m(" 已获得 ",-1))])):(g(),l("span",ie,[n(r(R),{icon:["fas","lock"]}),a[48]||(a[48]=m(" 未获得 ",-1))]))])]),i("p",te,v(s.description),1),void 0!==s.progress?(g(),l("div",ne,[i("div",re,[i("div",{class:"progress-fill",style:h({width:`${s.progress}%`})},null,4)]),i("span",oe,v(s.progress)+"%",1)])):t("",!0)]),i("div",de,[s.unlocked?(g(),l("div",ve,[n(r(R),{icon:["fas","medal"]})])):(g(),l("div",ue,[n(r(R),{icon:["fas","question"]})]))])]))),128))])])])])]);var e}}}),[["__scopeId","data-v-7c97ebab"]]);export{pe as default};
