<svg viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg">
  <title>课程数据流向图</title>
  <desc>展示从文档上传到课程生成的完整数据流转过程</desc>
  
  <defs>
    <!-- 渐变定义 -->
    <linearGradient id="uploadGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="processGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="aiGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="storageGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#43e97b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#38f9d7;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="outputGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fa709a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fee140;stop-opacity:1" />
    </linearGradient>
    
    <!-- 阴影滤镜 -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000000" flood-opacity="0.15"/>
    </filter>
    
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge> 
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- 数据流箭头 -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6" />
    </marker>
  </defs>
  
  <style>
    /* 节点动画 */
    .node {
      animation: slideInScale 0.6s ease-out backwards;
      cursor: pointer;
    }
    .node-1 { animation-delay: 0ms; }
    .node-2 { animation-delay: 200ms; }
    .node-3 { animation-delay: 400ms; }
    .node-4 { animation-delay: 600ms; }
    .node-5 { animation-delay: 800ms; }
    .node-6 { animation-delay: 1000ms; }
    .node-7 { animation-delay: 1200ms; }
    
    /* 连接线动画 */
    .connector {
      stroke-dasharray: 1000;
      stroke-dashoffset: 1000;
      animation: drawLine 1.2s ease-out forwards;
    }
    .connector-1 { animation-delay: 300ms; }
    .connector-2 { animation-delay: 500ms; }
    .connector-3 { animation-delay: 700ms; }
    .connector-4 { animation-delay: 900ms; }
    .connector-5 { animation-delay: 1100ms; }
    .connector-6 { animation-delay: 1300ms; }
    
    /* 数据流动画 */
    .data-flow {
      animation: dataFlow 2s ease-in-out infinite;
    }
    .data-flow-1 { animation-delay: 0ms; }
    .data-flow-2 { animation-delay: 300ms; }
    .data-flow-3 { animation-delay: 600ms; }
    .data-flow-4 { animation-delay: 900ms; }
    .data-flow-5 { animation-delay: 1200ms; }
    .data-flow-6 { animation-delay: 1500ms; }
    
    .node-title {
      font-family: 'PingFang SC', -apple-system, BlinkMacSystemFont, sans-serif;
      font-size: 16px;
      font-weight: 700;
      text-anchor: middle;
      dominant-baseline: middle;
      fill: #ffffff;
    }
    
    .node-subtitle {
      font-family: 'PingFang SC', -apple-system, BlinkMacSystemFont, sans-serif;
      font-size: 12px;
      font-weight: 500;
      text-anchor: middle;
      dominant-baseline: middle;
      fill: #ffffff;
      opacity: 0.9;
    }
    
    .node-detail {
      font-family: 'PingFang SC', -apple-system, BlinkMacSystemFont, sans-serif;
      font-size: 10px;
      font-weight: 400;
      text-anchor: middle;
      dominant-baseline: middle;
      fill: #ffffff;
      opacity: 0.8;
    }
    
    @keyframes slideInScale {
      from { 
        opacity: 0; 
        transform: translateY(20px) scale(0.9); 
      }
      to { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
      }
    }
    
    @keyframes drawLine {
      to { 
        stroke-dashoffset: 0; 
      }
    }
    
    @keyframes dataFlow {
      0%, 100% { 
        opacity: 0.6; 
        transform: scale(1); 
      }
      50% { 
        opacity: 1; 
        transform: scale(1.1); 
      }
    }
  </style>
  
  <!-- 背景 -->
  <rect width="900" height="500" fill="#f8fafc" />
  
  <!-- 网格背景 -->
  <defs>
    <pattern id="grid" width="30" height="30" patternUnits="userSpaceOnUse">
      <path d="M 30 0 L 0 0 0 30" fill="none" stroke="#e2e8f0" stroke-width="1" opacity="0.3"/>
    </pattern>
  </defs>
  <rect width="900" height="500" fill="url(#grid)" />
  
  <!-- 连接线 -->
  <path class="connector connector-1" d="M 120 250 L 180 250" stroke="#3b82f6" stroke-width="3" fill="none" stroke-linecap="round" marker-end="url(#arrowhead)" />
  <path class="connector connector-2" d="M 240 250 L 300 250" stroke="#3b82f6" stroke-width="3" fill="none" stroke-linecap="round" marker-end="url(#arrowhead)" />
  <path class="connector connector-3" d="M 360 250 L 420 250" stroke="#3b82f6" stroke-width="3" fill="none" stroke-linecap="round" marker-end="url(#arrowhead)" />
  <path class="connector connector-4" d="M 480 250 L 540 250" stroke="#3b82f6" stroke-width="3" fill="none" stroke-linecap="round" marker-end="url(#arrowhead)" />
  <path class="connector connector-5" d="M 600 250 L 660 250" stroke="#3b82f6" stroke-width="3" fill="none" stroke-linecap="round" marker-end="url(#arrowhead)" />
  <path class="connector connector-6" d="M 720 250 L 780 250" stroke="#3b82f6" stroke-width="3" fill="none" stroke-linecap="round" marker-end="url(#arrowhead)" />
  
  <!-- 数据流指示器 -->
  <circle class="data-flow data-flow-1" cx="150" cy="250" r="4" fill="#3b82f6" opacity="0.8" />
  <circle class="data-flow data-flow-2" cx="270" cy="250" r="4" fill="#3b82f6" opacity="0.8" />
  <circle class="data-flow data-flow-3" cx="390" cy="250" r="4" fill="#3b82f6" opacity="0.8" />
  <circle class="data-flow data-flow-4" cx="510" cy="250" r="4" fill="#3b82f6" opacity="0.8" />
  <circle class="data-flow data-flow-5" cx="630" cy="250" r="4" fill="#3b82f6" opacity="0.8" />
  <circle class="data-flow data-flow-6" cx="750" cy="250" r="4" fill="#3b82f6" opacity="0.8" />
  
  <!-- 节点1: 文档上传 -->
  <g class="node node-1">
    <rect x="50" y="200" width="140" height="100" rx="16" fill="url(#uploadGradient)" filter="url(#shadow)" />
    <text class="node-title" x="120" y="230">文档上传</text>
    <text class="node-subtitle" x="120" y="250">PDF/TXT文件</text>
    <text class="node-detail" x="120" y="270">支持拖拽上传</text>
    <text class="node-detail" x="120" y="285">最大50MB</text>
  </g>
  
  <!-- 节点2: 文档解析 -->
  <g class="node node-2">
    <rect x="200" y="200" width="140" height="100" rx="16" fill="url(#processGradient)" filter="url(#shadow)" />
    <text class="node-title" x="270" y="230">文档解析</text>
    <text class="node-subtitle" x="270" y="250">内容提取</text>
    <text class="node-detail" x="270" y="270">OCR识别</text>
    <text class="node-detail" x="270" y="285">格式转换</text>
  </g>
  
  <!-- 节点3: AI分析 -->
  <g class="node node-3">
    <rect x="350" y="200" width="140" height="100" rx="16" fill="url(#aiGradient)" filter="url(#shadow)" />
    <text class="node-title" x="420" y="230">AI分析</text>
    <text class="node-subtitle" x="420" y="250">内容理解</text>
    <text class="node-detail" x="420" y="270">GPT-4处理</text>
    <text class="node-detail" x="420" y="285">智能分段</text>
  </g>
  
  <!-- 节点4: 章节生成 -->
  <g class="node node-4">
    <rect x="500" y="200" width="140" height="100" rx="16" fill="url(#aiGradient)" filter="url(#shadow)" />
    <text class="node-title" x="570" y="230">章节生成</text>
    <text class="node-subtitle" x="570" y="250">结构化内容</text>
    <text class="node-detail" x="570" y="270">自动分章</text>
    <text class="node-detail" x="570" y="285">标题提取</text>
  </g>
  
  <!-- 节点5: 课程存储 -->
  <g class="node node-5">
    <rect x="650" y="200" width="140" height="100" rx="16" fill="url(#storageGradient)" filter="url(#shadow)" />
    <text class="node-title" x="720" y="230">课程存储</text>
    <text class="node-subtitle" x="720" y="250">数据库保存</text>
    <text class="node-detail" x="720" y="270">PostgreSQL</text>
    <text class="node-detail" x="720" y="285">版本管理</text>
  </g>
  
  <!-- 节点6: 课程展示 -->
  <g class="node node-6">
    <rect x="800" y="200" width="140" height="100" rx="16" fill="url(#outputGradient)" filter="url(#shadow)" />
    <text class="node-title" x="870" y="230">课程展示</text>
    <text class="node-subtitle" x="870" y="250">用户界面</text>
    <text class="node-detail" x="870" y="270">Vue3渲染</text>
    <text class="node-detail" x="870" y="285">响应式设计</text>
  </g>
  
  <!-- 侧边技术栈信息 -->
  <g class="node node-2">
    <rect x="50" y="350" width="200" height="120" rx="12" fill="#ffffff" stroke="#e2e8f0" stroke-width="2" filter="url(#shadow)" />
    <text x="150" y="375" font-family="PingFang SC" font-size="14" font-weight="700" text-anchor="middle" fill="#1e293b">技术实现</text>
    
    <text x="150" y="400" font-family="PingFang SC" font-size="12" font-weight="600" text-anchor="middle" fill="#3b82f6">文档处理</text>
    <text x="150" y="415" font-family="PingFang SC" font-size="10" text-anchor="middle" fill="#64748b">PyPDF2 + python-docx</text>
    
    <text x="150" y="440" font-family="PingFang SC" font-size="12" font-weight="600" text-anchor="middle" fill="#10b981">AI集成</text>
    <text x="150" y="455" font-family="PingFang SC" font-size="10" text-anchor="middle" fill="#64748b">OpenAI API + 流式处理</text>
  </g>
  
  <!-- 性能指标 -->
  <g class="node node-4">
    <rect x="650" y="350" width="200" height="120" rx="12" fill="#ffffff" stroke="#e2e8f0" stroke-width="2" filter="url(#shadow)" />
    <text x="750" y="375" font-family="PingFang SC" font-size="14" font-weight="700" text-anchor="middle" fill="#1e293b">性能指标</text>
    
    <text x="750" y="400" font-family="PingFang SC" font-size="12" font-weight="600" text-anchor="middle" fill="#f59e0b">处理速度</text>
    <text x="750" y="415" font-family="PingFang SC" font-size="10" text-anchor="middle" fill="#64748b">≤30秒完成解析</text>
    
    <text x="750" y="440" font-family="PingFang SC" font-size="12" font-weight="600" text-anchor="middle" fill="#8b5cf6">准确率</text>
    <text x="750" y="455" font-family="PingFang SC" font-size="10" text-anchor="middle" fill="#64748b">≥95%内容识别</text>
  </g>
</svg>
