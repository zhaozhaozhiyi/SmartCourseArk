<svg viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg">
  <title>学习数据流向图</title>
  <desc>展示从学习行为到分析报告的完整数据流转过程</desc>
  
  <defs>
    <!-- 渐变定义 -->
    <linearGradient id="behaviorGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="collectGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="processGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="analyzeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#43e97b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#38f9d7;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="outputGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fa709a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fee140;stop-opacity:1" />
    </linearGradient>
    
    <!-- 阴影滤镜 -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000000" flood-opacity="0.15"/>
    </filter>
    
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge> 
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- 数据流箭头 -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6" />
    </marker>
  </defs>
  
  <style>
    /* 节点动画 */
    .node {
      animation: slideInScale 0.6s ease-out backwards;
      cursor: pointer;
    }
    .node-1 { animation-delay: 0ms; }
    .node-2 { animation-delay: 200ms; }
    .node-3 { animation-delay: 400ms; }
    .node-4 { animation-delay: 600ms; }
    .node-5 { animation-delay: 800ms; }
    .node-6 { animation-delay: 1000ms; }
    .node-7 { animation-delay: 1200ms; }
    
    /* 连接线动画 */
    .connector {
      stroke-dasharray: 1000;
      stroke-dashoffset: 1000;
      animation: drawLine 1.2s ease-out forwards;
    }
    .connector-1 { animation-delay: 300ms; }
    .connector-2 { animation-delay: 500ms; }
    .connector-3 { animation-delay: 700ms; }
    .connector-4 { animation-delay: 900ms; }
    .connector-5 { animation-delay: 1100ms; }
    .connector-6 { animation-delay: 1300ms; }
    
    /* 数据流动画 */
    .data-flow {
      animation: dataFlow 2s ease-in-out infinite;
    }
    .data-flow-1 { animation-delay: 0ms; }
    .data-flow-2 { animation-delay: 300ms; }
    .data-flow-3 { animation-delay: 600ms; }
    .data-flow-4 { animation-delay: 900ms; }
    .data-flow-5 { animation-delay: 1200ms; }
    .data-flow-6 { animation-delay: 1500ms; }
    
    .node-title {
      font-family: 'PingFang SC', -apple-system, BlinkMacSystemFont, sans-serif;
      font-size: 16px;
      font-weight: 700;
      text-anchor: middle;
      dominant-baseline: middle;
      fill: #ffffff;
    }
    
    .node-subtitle {
      font-family: 'PingFang SC', -apple-system, BlinkMacSystemFont, sans-serif;
      font-size: 12px;
      font-weight: 500;
      text-anchor: middle;
      dominant-baseline: middle;
      fill: #ffffff;
      opacity: 0.9;
    }
    
    .node-detail {
      font-family: 'PingFang SC', -apple-system, BlinkMacSystemFont, sans-serif;
      font-size: 10px;
      font-weight: 400;
      text-anchor: middle;
      dominant-baseline: middle;
      fill: #ffffff;
      opacity: 0.8;
    }
    
    @keyframes slideInScale {
      from { 
        opacity: 0; 
        transform: translateY(20px) scale(0.9); 
      }
      to { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
      }
    }
    
    @keyframes drawLine {
      to { 
        stroke-dashoffset: 0; 
      }
    }
    
    @keyframes dataFlow {
      0%, 100% { 
        opacity: 0.6; 
        transform: scale(1); 
      }
      50% { 
        opacity: 1; 
        transform: scale(1.1); 
      }
    }
  </style>
  
  <!-- 背景 -->
  <rect width="900" height="500" fill="#f8fafc" />
  
  <!-- 网格背景 -->
  <defs>
    <pattern id="grid" width="30" height="30" patternUnits="userSpaceOnUse">
      <path d="M 30 0 L 0 0 0 30" fill="none" stroke="#e2e8f0" stroke-width="1" opacity="0.3"/>
    </pattern>
  </defs>
  <rect width="900" height="500" fill="url(#grid)" />
  
  <!-- 连接线 -->
  <path class="connector connector-1" d="M 120 250 L 180 250" stroke="#3b82f6" stroke-width="3" fill="none" stroke-linecap="round" marker-end="url(#arrowhead)" />
  <path class="connector connector-2" d="M 240 250 L 300 250" stroke="#3b82f6" stroke-width="3" fill="none" stroke-linecap="round" marker-end="url(#arrowhead)" />
  <path class="connector connector-3" d="M 360 250 L 420 250" stroke="#3b82f6" stroke-width="3" fill="none" stroke-linecap="round" marker-end="url(#arrowhead)" />
  <path class="connector connector-4" d="M 480 250 L 540 250" stroke="#3b82f6" stroke-width="3" fill="none" stroke-linecap="round" marker-end="url(#arrowhead)" />
  <path class="connector connector-5" d="M 600 250 L 660 250" stroke="#3b82f6" stroke-width="3" fill="none" stroke-linecap="round" marker-end="url(#arrowhead)" />
  <path class="connector connector-6" d="M 720 250 L 780 250" stroke="#3b82f6" stroke-width="3" fill="none" stroke-linecap="round" marker-end="url(#arrowhead)" />
  
  <!-- 数据流指示器 -->
  <circle class="data-flow data-flow-1" cx="150" cy="250" r="4" fill="#3b82f6" opacity="0.8" />
  <circle class="data-flow data-flow-2" cx="270" cy="250" r="4" fill="#3b82f6" opacity="0.8" />
  <circle class="data-flow data-flow-3" cx="390" cy="250" r="4" fill="#3b82f6" opacity="0.8" />
  <circle class="data-flow data-flow-4" cx="510" cy="250" r="4" fill="#3b82f6" opacity="0.8" />
  <circle class="data-flow data-flow-5" cx="630" cy="250" r="4" fill="#3b82f6" opacity="0.8" />
  <circle class="data-flow data-flow-6" cx="750" cy="250" r="4" fill="#3b82f6" opacity="0.8" />
  
  <!-- 节点1: 学习行为 -->
  <g class="node node-1">
    <rect x="50" y="200" width="140" height="100" rx="16" fill="url(#behaviorGradient)" filter="url(#shadow)" />
    <text class="node-title" x="120" y="230">学习行为</text>
    <text class="node-subtitle" x="120" y="250">用户操作</text>
    <text class="node-detail" x="120" y="270">点击、阅读、答题</text>
    <text class="node-detail" x="120" y="285">时间记录</text>
  </g>
  
  <!-- 节点2: 数据采集 -->
  <g class="node node-2">
    <rect x="200" y="200" width="140" height="100" rx="16" fill="url(#collectGradient)" filter="url(#shadow)" />
    <text class="node-title" x="270" y="230">数据采集</text>
    <text class="node-subtitle" x="270" y="250">实时收集</text>
    <text class="node-detail" x="270" y="270">事件追踪</text>
    <text class="node-detail" x="270" y="285">行为日志</text>
  </g>
  
  <!-- 节点3: 数据处理 -->
  <g class="node node-3">
    <rect x="350" y="200" width="140" height="100" rx="16" fill="url(#processGradient)" filter="url(#shadow)" />
    <text class="node-title" x="420" y="230">数据处理</text>
    <text class="node-subtitle" x="420" y="250">清洗分析</text>
    <text class="node-detail" x="420" y="270">数据清洗</text>
    <text class="node-detail" x="420" y="285">特征提取</text>
  </g>
  
  <!-- 节点4: 统计分析 -->
  <g class="node node-4">
    <rect x="500" y="200" width="140" height="100" rx="16" fill="url(#analyzeGradient)" filter="url(#shadow)" />
    <text class="node-title" x="570" y="230">统计分析</text>
    <text class="node-subtitle" x="570" y="250">智能分析</text>
    <text class="node-detail" x="570" y="270">算法计算</text>
    <text class="node-detail" x="570" y="285">模式识别</text>
  </g>
  
  <!-- 节点5: 报告生成 -->
  <g class="node node-5">
    <rect x="650" y="200" width="140" height="100" rx="16" fill="url(#outputGradient)" filter="url(#shadow)" />
    <text class="node-title" x="720" y="230">报告生成</text>
    <text class="node-subtitle" x="720" y="250">可视化</text>
    <text class="node-detail" x="720" y="270">图表生成</text>
    <text class="node-detail" x="720" y="285">建议输出</text>
  </g>
  
  <!-- 节点6: 学习建议 -->
  <g class="node node-6">
    <rect x="800" y="200" width="140" height="100" rx="16" fill="url(#outputGradient)" filter="url(#shadow)" />
    <text class="node-title" x="870" y="230">学习建议</text>
    <text class="node-subtitle" x="870" y="250">个性化推荐</text>
    <text class="node-detail" x="870" y="270">智能推荐</text>
    <text class="node-detail" x="870" y="285">学习计划</text>
  </g>
  
  <!-- 侧边数据指标 -->
  <g class="node node-2">
    <rect x="50" y="350" width="200" height="120" rx="12" fill="#ffffff" stroke="#e2e8f0" stroke-width="2" filter="url(#shadow)" />
    <text x="150" y="375" font-family="PingFang SC" font-size="14" font-weight="700" text-anchor="middle" fill="#1e293b">数据指标</text>
    
    <text x="150" y="400" font-family="PingFang SC" font-size="12" font-weight="600" text-anchor="middle" fill="#3b82f6">学习时长</text>
    <text x="150" y="415" font-family="PingFang SC" font-size="10" text-anchor="middle" fill="#64748b">实时记录 + 统计</text>
    
    <text x="150" y="440" font-family="PingFang SC" font-size="12" font-weight="600" text-anchor="middle" fill="#10b981">答题正确率</text>
    <text x="150" y="455" font-family="PingFang SC" font-size="10" text-anchor="middle" fill="#64748b">按章节 + 题型</text>
  </g>
  
  <!-- 分析算法 -->
  <g class="node node-4">
    <rect x="350" y="350" width="200" height="120" rx="12" fill="#ffffff" stroke="#e2e8f0" stroke-width="2" filter="url(#shadow)" />
    <text x="450" y="375" font-family="PingFang SC" font-size="14" font-weight="700" text-anchor="middle" fill="#1e293b">分析算法</text>
    
    <text x="450" y="400" font-family="PingFang SC" font-size="12" font-weight="600" text-anchor="middle" fill="#8b5cf6">掌握度分析</text>
    <text x="450" y="415" font-family="PingFang SC" font-size="10" text-anchor="middle" fill="#64748b">贝叶斯算法</text>
    
    <text x="450" y="440" font-family="PingFang SC" font-size="12" font-weight="600" text-anchor="middle" fill="#f59e0b">薄弱点识别</text>
    <text x="450" y="455" font-family="PingFang SC" font-size="10" text-anchor="middle" fill="#64748b">机器学习模型</text>
  </g>
  
  <!-- 输出格式 -->
  <g class="node node-6">
    <rect x="650" y="350" width="200" height="120" rx="12" fill="#ffffff" stroke="#e2e8f0" stroke-width="2" filter="url(#shadow)" />
    <text x="750" y="375" font-family="PingFang SC" font-size="14" font-weight="700" text-anchor="middle" fill="#1e293b">输出格式</text>
    
    <text x="750" y="400" font-family="PingFang SC" font-size="12" font-weight="600" text-anchor="middle" fill="#10b981">可视化图表</text>
    <text x="750" y="415" font-family="PingFang SC" font-size="10" text-anchor="middle" fill="#64748b">ECharts + 雷达图</text>
    
    <text x="750" y="440" font-family="PingFang SC" font-size="12" font-weight="600" text-anchor="middle" fill="#8b5cf6">学习报告</text>
    <text x="750" y="455" font-family="PingFang SC" font-size="10" text-anchor="middle" fill="#64748b">PDF导出 + 分享</text>
  </g>
</svg>
